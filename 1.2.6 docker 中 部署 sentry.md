# docker 中 部署 sentry

>打开 docker  Docker Quickstart Terminal 终端
- 输入 `docker-machine ssh default` 进入 docker 虚拟环境
- 输入 `docker-compose ps` 发现 `-bash: docker-compose: command not found`
于是就安装 docker-compose:
`sudo curl -L https://github.com/docker/compose/releases/download/1.17.0/docker-compose-`uname -s`-`un
ame -m` -o /usr/local/bin/docker-compose`

>再输入 `docker-compose ps`,发现 
`-bash: /usr/local/bin/docker-compose: Permission denied` 提示没有权限
于是加上
`sudo chmod +x /usr/local/bin/docker-compose`

>验证一下
```
docker-compose --version
```

## install

```
// 1. 下载 docker-compose 安装文件
git clone https://github.com/getsentry/onpremise.git
 
// 2. 创建 data 文件夹，存储我们的项目文件和数据库
mkdir -p data/{sentry,postgres}
 
// 3. 创建 secret-key，并把 key 添加到 docker-compose.yml
docker-compose run --rm web config generate-secret-key
 
// 4. 创建数据库、admin 账号等
docker-compose run --rm web upgrade
 
// 5. 开启各个服务，后台运行
docker-compose up -d
 
// 6. 我们可以修改配置文件，或端口等信息


==================================================
git clone https://github.com/getsentry/onpremise.git

cd onpremise

mkdir -p data/{sentry,postgres}

# 生成秘钥
docker-compose run --rm web config generate-secret-key

这一步的时候出现一个问题 Couldn't find env file: /home/docker/onpremise/.env

就是说 .env 文件没找到
```




## 参考
- [sentry-readme](https://github.com/getsentry/onpremise)
- [getsentry](https://github.com/getsentry)
- [安装Docker](https://www.cnblogs.com/xiewenming/p/7903247.html)
