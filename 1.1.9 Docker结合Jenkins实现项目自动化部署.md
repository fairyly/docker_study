# Docker结合Jenkins实现项目自动化部署

## 1.下载Jenkins镜像

```
docker pull jenkins
默认情况下，如果没有指定版本号和前缀的话，默认都是到Docker Hub官方去下载镜像的，默认版本标签是“latest”
```



## 2.启动Jenkins容器
```
docker run -d -p 28080:8080 --name jenkins -v /opt/jenkins:/var/jenkins_home jenkins

```


>jenkins默认端口号是8080，因为宿主机上已经存在8080端口占用了，因此这里我映射成28080端口。
同时将Jenkins的数据挂载到宿主机上的 /opt/jenkins 目录下。

>执行上面的run命令后，通过docker ps查看运行中的容器的时候，有可能你会发现，Jenkins容器没有启动成功，  
你可以通过 docker logs 密码查看容器启动的日志信息，
```
docker logs 677
```
如果出现 `permission denied`

>主要原因还是文件的write权限问题。可以参考网上的一篇文章：
https://testerhome.com/topics/11935

>知道问题原因之后，我们给Jenkins用户赋予宿主机的 /opt/jenkins 目录的写权限即可：
```
sudo chown -R 1000:1000 /opt/jenkins
```

>重启一下Jenkins容器（docker restart 容器ID）
访问Jenkins服务




## 参考
- [docker-jenkins-springboot-maven-deploy](https://www.yuque.com/zhoubang/docker/docker-jenkins-springboot-maven-deploy)
